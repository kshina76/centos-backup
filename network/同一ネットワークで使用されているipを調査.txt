同一ネットワーク内で使用されているipを調査

⭐︎パターン1
$ip neigh
上記のコマンドは恐らく到達可能なipを列挙してくれる。macアドレスも教えてくれる？

⭐︎パターン2
$ echo 172.29.146.{1..254}
   | xargs -P256 -n1 ping -c1
   | grep ttl

step1.
echoで調べたいipを標準出力に渡す

step2.
xargsはxargsの引数に渡したコマンドの引数に値を動的に渡せる。
xargs [コマンド] で、コマンドに引数を渡せる。
オプションPは複数プロセスを並行して進めるもの。今回は256を指定しているので256プロセスを並行して進めている。
オプションnは1を指定しないと、pingコマンドに1〜256のipが全て流れ込んでしまいエラーになる。1を指定することで、多分引数が流れ込む数を制限している。

step3.
pingコマンドのcオプションは、pingコマンドはデフォルトで同じipに3回パケットを送るけど、そのcはその送る回数を指定できる。c1は1回送るということ。

step4.
ttlでgrepしている理由は、pingが成功した時にttlが標準出力されるから、成功したものだけに絞り込むため。