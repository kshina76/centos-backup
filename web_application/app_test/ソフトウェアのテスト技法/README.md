# 初めて学ぶソフトウェアのテスト技法 書籍メモ

## きちんと設計されたテストケース
- 入力
- 出力
- 実行順序
## テストの種類
- 単体テスト
  - 一つの関数などの単位
- 統合テスト
  - 二つ以上の関数などの単位
  - 関数Aから関数Bを呼び出していたら、関数Aと関数Bを統合テストする必要がある
- システムテスト
  - E2Eテストのこと
- 受け入れテスト
## 正常系・準正常系・異常系
- 正常系
  - テスト対象が、定常状態で仕様通り動作することを確認するテスト。
- 準正常系
  - テスト対象が、異常発生時に異常処理仕様通り動作することを確認するテスト
- 異常系
  - テスト対象が、仕様外の異常が発生した際に、どの様に振る舞うのかを確認するテスト
  - 無効値も異常系とするっぽい

<br></br>

## 第1章 ブラックボックステスト技法
### ブラックボックステストとは
- テスト対象の内部の実装を考えないで、入力と出力だけに着目するテスト
- やり方としては、仕様書だけを見て入力値を決めて、出力が正しいかをテストする
- 全てをブラックボックステストで洗い出そうとしないこと。総当たりのテストは不可能だから
- 単体、統合、システム、受け入れ全てのテストで使用することができる
- テストアンチパターンや色々
  - https://qiita.com/salvage0707/items/b15412af6951da2069ba
### 手順
1. 要求や仕様書を分析する
2. 仕様書を元に有効な入力値を選択する
  - 正常系: 正しい入力値を入れたときの動き
  - 異常系: 正しくない入力値を入れたときの動き
3. それぞれの入力値に対して、期待する出力値を決定する
4. 選択した入力値を使ったテストを作成する
5. テストを実行する
6. 実際の出力と期待する出力を比較する
7. テスト対象が正常に機能しているかどうかを判定する
### 同値クラステスト
- 同値クラス
  - 整数、小数、文字列，記号などで分割していく
  - さらに要件に対して細かく分割していく
    - 例えば、メールアドレスなら「アットマークの数」「文字種別」「文字数」「記号の有無」「メールアドレスの一致性」などで分ける
- 有効同値クラス
  - 正しい値を、グループ分けしたもの
  - 正常系に属するもの
- 無効同値クラス
  - エラーになる値を、グループごとに分類したもの
  - 準正常系・異常系に属するもの
- 手順
  - 同値クラスを作る: マインドマップを作るといいかも
    - 以下のようにルートブランチ、サブブランチ、...のように分割していく
    - 文字列の「クラスA」、数字の「クラスB」
      - 日本語の「クラスA-jp」、英語の「クラスA-en」、整数の「クラスB-re」、小数の「クラスB-mi」、...
  - 同値クラスを分類する
    - 「有効同値クラス」「無効同値クラス」に分類
  - 代表値を決定する
    - 例えば同一クラスの1~3整数の中なら、真ん中の2を選ぶとか
  - テスト条件を決定する
    - 無効同値クラスが重ならないようにテスト条件を組み合わせてテスト条件を作る
  - テストで期待する出力を記述しておく
    - 「正常処理」なのか「異常処理」なのか
  - テスト条件を見直す
    - 正しくテストの設計ができているかをざっと見直す
- 参考文献
  - https://qiita.com/softest/items/648d8bb4021cd1256b02
  - https://qiita.com/tatane616/items/1694ed4f88dc9d3b1eda#同値クラステスト
### 境界値テスト
- 同値クラスの境界となるところのテスト
- 手順
  - onポイントとoffポイントを同値クラスの表から見つける
  - あとは、同値クラステストの、それぞれのクラスの代表値に、境界値を加えてテストするだけ
- 参考文献
  - https://qiita.com/softest/items/648d8bb4021cd1256b02
  - https://qiita.com/tatane616/items/1694ed4f88dc9d3b1eda#境界値テスト
### テシジョンテーブルテスト
- ifのconditionを上段に書いて、thenの内容を下段に書く
- 参考文献
  - https://qiita.com/sh-suzuki0301/items/2ae685ba7eaf6319f48f
  - https://qiita.com/tatane616/items/1694ed4f88dc9d3b1eda#デシジョンテーブルテスト
### ペア構成テスト
- 入力の組み合わせの数が大きい時に適用する
- ペアワイズ法とも言われている
- 参考文献
  - https://dev.classmethod.jp/articles/pairwise-testing-with-pict/
  - https://qiita.com/tatane616/items/1694ed4f88dc9d3b1eda#ペア構成テスト
### 状態遷移図テスト
- システムテストや受入れテストで行う
- 状態遷移に沿ってテストをするだけ
- 一つの機能をテストするのであって一つの関数(メソッド)をテストするわけではないことから、単体テストでは使わない
- https://qiita.com/tatane616/items/1694ed4f88dc9d3b1eda#状態遷移図テスト
### ユースケーステスト
- システムテストと受け入れテストのテストケースを開発するための基盤として利用
- 単体テストでは使わない
- https://qiita.com/tatane616/items/1694ed4f88dc9d3b1eda#ユースケーステスト
### まとめ
- 個人としては、「同値クラステスト」「境界値テスト」「デシジョンテーブルテスト」「ペア構成テスト」くらいをやればいいと思う
- そのほかのテスト手法は必要になったら勉強する

<br></br>

## 第2章 ホワイトボックステスト技法
- 個人的にはブラックボックステストで十分だと思ったので、必要になった時に学習する

<br></br>

## 第3章 テストのパラダイム
### スクリプトテスト
- 従来のテスト手法
- ガチガチにテスト項目を文書化して実行する
- ウォーターフォール開発でよく使われる
### 探索的テスト
- 最近のテスト手法
- アジャイル開発に向いている
- 個人的には「スクリプトテスト:探索的テスト = 6:4」くらいで行うといいのかも
  - スクリプトテストとしてブラックボックステスト手法を4つやって、あとは探索的にバグを見つけるとった感じ
- https://halspring.hatenablog.com/entry/2019/04/18/探索的テストで_やっていること・意識しているこ
