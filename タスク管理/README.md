# エンジニアのための見積もり実践入門 書籍メモ
## todo
- 4.7の自動化
- 1年の活動目標の定め方
- 見積もりのいいツールはないか(macで)
- ドキュメントは必ず残す必要があるので、docstringについて学ぶ(vscodeの支援とか)
- 技術同人誌について調べる

## 第2章 タスク見積もり
### 2-1. タスクとは
#### 2-1-1. タスク単位に分割する理由
- **報告・連絡・相談**
  - タスクの状況を報告することで、上司が仕事をしやすい
- **タスクの見落としを防ぐため**
  - 実装すべき機能の見落としを防ぐ
  - 何を先に行うべきなのかといった、ボトルネックの発見に繋がる
- **考えやすい単位にすることで作業しやすくなる**
  - 「手順書を作る、コツをまとめる、スクリプトを作成して自動化する」といったことが行いやすい
  - 人間は基本的にマルチタスクはできないようにできているから、簡単なタスクに分解しておくと開発を行いやすい
#### 2-1-2. どうタスク分割をするのか
- まずは上司やリーダーがどの程度の粒度を求めているのかというところを基準に分割したほうがいい
- タスクをさらにサブタスクやTODOリストに分割する
  - サブタスクやTODOリストは全員と共有してもいいし、自分だけが持っていてもいい
- かなり細かくタスクを分割したほうがいい
  - 見積もりの精度が上がるから
- 「この作業ならタスクが完了する」といった粒度までタスクを分割する
  - 「わからないからあとで調査する」という項目を同じタスク内に含めてしまうとよくない。その際に、「調査タスク」として分割することで、見積もりの正確さをあげることができる
#### 2-1-3. タスクの定義に必要なもの
- **前提条件の確認**
  - 期日
  - etc
- **ゴールの設定**
  - 何をすればタスクが完了するのかなど
- **アクションリストの作成や実際にアクションを起こす**
  - 朝一はその日に行うアクションの作成やアクションを起こすという習慣をつけるといい
  - 脳死でできるようなアクションを定義することが重要
  - 人間はアクションを起こさないとエンジンがかからない生き物だから
  - 例えば「vscodeを開いてソースコードAとソースコードBを開く」といったもの
- **所感を書く**
  - そのタスクをやってみてどうだったか
  - どういうところでハマったか
  - タスク定義時に考えていたこと

### 2-2. タスクの時間見積もり
- **バッファをとるかどうか**
  - 多めに時間を見積もること
  - 会議に呼ばれることもあるし、会社の行事が行われることもあるので多めに取った方がいい
  - 例えば、30分で終わりそうな作業を1時間と見積もること
- **割り込み対策**
  - Slackなどのコミュニケーションツールのウィンドウを最小化しておく
  - 緊急の通知以外は飛んでこないようにするとか
- **適切な時間**
  - 一つにタスクは30分〜2時間程度で終わるように設定する
#### 2-2-1. タスクの完了
- 実装することだけがゴールではなくて、事前条件を全て満たすことがタスクの完了と定義する
- 実装してテストを行うというところが事前条件ならば、テストも終わらせないとタスクの完了とは言わない

### 2-3. タスクが完了したあと
#### 2-3-1. 完了したことを伝える
- 上司に直接報告をしたり、チケットを完了にしたり、プルリクエストを送るとか、いろいろな方法がある
#### 2-3-2. 振り返りをする(時間に関すること)
- 見積もった時間と実際にかかった時間を見比べる
- 作業を開始してから終了するまでにかかった時間(リードタイム)の計測
- 実際の作業をしていた時間(プロセスタイム)の計測
- プロセスタイムが想定より長かった場合は、次の似たようなタスクの見積もりの際には長めに設定する。逆は短く設定する
- リードタイムとプロセスタイムに大きな乖離が発生してしまっている場合は、コンテキストスイッチが発生している場合があるので、仕事に集中できる環境を考えるようにする
#### 2-3-3. 振り返りをする(改善策)
- 次回に似たようなタスクがきたら、プロセスタイムをどのようにしたら減らせるかを考える
#### 2-3-4. アウトプットする(言う、書く)
- とりあえずその時に考えていたことを文章に書き起こしておくことで、気づかなかったことに気づいたりする
#### 2-3-5. 自分の仕事を評価する
- 振り返りを蓄積する
- 「今期は何をして、どこが成長したのか？どのように貢献をしたのか？」という問いに自信を持って答えられるように
- 上司は全てのメンバーのことを見なければいけないので、自分でアピールしないと評価につなげることはできない
#### 2-3-6. どのタイミングでこれらのことを行うべきか
- タスクが終了した直後に行うのがベスト
- できれば一日、最低でも一週間で振り返る

<br></br>

## 第3章 若手エンジニアのための作業見積もり入門
### 3-1. 作業開始前: 作業内容の把握および確認
- **上司とのミスコミュニケーションを減らし、依頼内容を正しく把握することがポイント**
- **確認の目的**
  1. 作業開始に必要な情報の漏れを無くす
  2. 成果物に対する認識を合わせる
  3. 上記を通じて作業の手戻りを減らす
#### 3-1-1. 5W1Hの明確化
- 見当違いの成果物を提出してしまわないように5W1Hを明確化する
- 作業の方針や手順までを具体的にイメージすることができる
- やり方としては、説明を受けた内容を以下の項目に振り分けるだけ

![2020-12-29 20 00のイメージ](https://user-images.githubusercontent.com/53253817/103279163-91253900-4a10-11eb-962d-290b5cfe645c.jpeg)

#### 3-1-2. 作業内容の確認と方針の合意
- 確認
  - もし、5W1Hの表を上手く埋めることができない項目があるのであれば、「説明の際に必要な情報が抜けている」または「理解できていない」といった可能性がある
  - そのような項目は、自分が理解しているところまでを伝えて、わからないところを聞くようにする
  - さらに項目を埋めてから、作業をイメージして知っておきたいことがあれば同時に聞くようにする
- 合意
  - 5W1Hの書き起こしと質問確認が完了したら、上司に作業方針を確認して合意をとる

### 3-2. 作業中: 作業時間の把握
- **自分がどの作業にどれだけの時間をかけているかを正確に把握することがポイント**
- **作業時間を把握する目的**
  1. 「どの作業にどれだけの時間をかけているか」を客観的に把握して、正確な作業時間を見積もるため
  2. 作業時間の把握を通じて、自身の現在の実力を客観的に判断するため
  3. 依頼内容に関する上司への報告を正確に行うため
#### 3-2-1. Excelによる作業時間把握
- **作業内容とその時間の把握をする手順**
  1. 自分が受けている作業をリスト化する(図の左側)
  2. 上記リストを基に「作業名」「開始時間」「終了時間」を記録したテーブルを作成(図の右側)
  3. 作業しながらそのテーブルに上記項目の入力を行う
  4. そのテーブルを毎日書き残す

  ![2020-12-29 20 28のイメージ](https://user-images.githubusercontent.com/53253817/103281648-b9179b00-4a16-11eb-848b-637657ae5396.jpeg)

- **作業時間の見積もりの手順**
  1. 作業をグループ分けする
  2. グループごとに1回その作業を実施し、その際の必要時間を計測する
    - タスクAにサブタスクA-1,A-2,...A-5とあった場合、サブタスクA-1だけを作業してみて、計測する
    - 同様にタスクBにサブタスクB-1,B-2,...B-8とあった場合、サブタスクB-1だけを作業してみて、計測する
  3. グループの作業全量と1回の実施時間から全作業の実施時間を計算する
    - (サブタスクA-1にかかった時間)*(タスクAの個数)
    - (サブタスクB-1にかかった時間)*(タスクBの個数)
  4. 上記の計算結果を1.5倍し、トラブル発生時のマージンを確保する
    - 3のそれぞれを足した結果と、足した結果を1.5倍した結果を算出

  ![2020-12-29 20 28のイメージ (1)](https://user-images.githubusercontent.com/53253817/103281651-b9b03180-4a16-11eb-82b3-79dcd6943819.jpeg)

### 3-3. 作業中から作業完了時: 依頼作業状況の報告
- **なるべく頻繁に作業報告を行い、その恩恵を得ることがポイント**
- **作業報告の目的**
  1. 依頼された作業の進捗状況を伝え、困ったことがあれば上司からのサポートやフィードバックを得るため
  2. 報告を通じて、上司との信頼関係を構築するため
  3. 報告するための準備を通じて、自身の作業状況を客観的に把握するため
#### 3-3-1. 作業状況の細かい報告
- 作業状況に何かしらの進捗が発生したら少なくとも1日1回は報告を行う
- **細かい報告を行う4つの理由**
  - 上司からの「いつ終わる？」の質問防止
  - 作業のズレの修正をするため
  - トラブルが起きて、伸びそうな時に期限の修正を上司に行ってもらうため
  - 上司の信頼を獲得することができる
- **作業報告のポイント**
  - 依頼内容の何がどこまで終わっているか
  - 作業における課題(ボトルネック)はあるか
  - 課題があるとすれば、それは何か
  - その原因は何か
  - 上記を踏まえて、いつ頃完了予定か/予定通り作業完了可能か

  <br></br>

## 第4章 2点見積もりと振り返りのススメ
### 4-1. 2点見積もりとは
- 以下のように最速と最遅の2点で考える方法
- 最速だと1.5日、どんなに遅れても4日なので「1.5〜4日」
- 1時間で終わりそう、ハマっても3時間くらいなので「1〜3時間」
### 4-2. 2点見積もりの詳細
- **最小見積もり**
  - タスクが完了する最速の工数のこと
  - マージンなどは含まない
- **最大見積もり**
  - タスクが確実に完了できる工数のこと
  - マージンを含める
#### 4-2-1. 最小と最大の見積もりをするべき理由
- 振り返りがしやすい
  - 「最小以下」「最小と最大の間」「最大以上」の3つの評価軸でなぜそうなったかを判断できるから
- 見積もり精度を上げやすい
  - 最大を超過した場合に、事前に検証できなかった項目のがあるか、見積もり内容に問題があったかといったことを検討できるから
- コミュニケーションが楽
  - 1点見積もりだと、マージンを含んだ見積もりなのかどうかが確認しないとわからないから
### 4-3. 2点見積もりの利点
- 1点見積もりと組み合わせやすい
  - チームでは1点見積もりをしている場合に、2点見積もりの中間の値を報告したり、自信があるときは最小の値を報告したり、自信がない場合は最大の値を報告したりのように柔軟
- モチベーションの持続
  - 最小を目指そうとするモチベーション
  - 最大を超過しないようにするモチベーション
- タスク分割のしやすさ
  - 「この作業ならタスクが完了する」といった粒度までタスクを分割する必要があり、「わからないからあとで調査する」という項目を同じタスク内に含めてしまうとよくない。その際に、調査するタスクとして分割することで、見積もりの正確さをあげることができる
- ポジティブな目標が得られる
  - 最小と最大があるから
### 4-4. 欠点
- なし
### 4-5. 振り返りのススメ
#### 4-5-1. 振り返りのメリット
- **補正による精度向上**
- **裏付けができる**
  - 「本当にその工数でできるの？」と聞かれたときに、的中率を計算しておくとその数字を伝えることができるから信憑性が増す
  - 「類似の見積もりを参考にしたら超過していたので、その反省を踏まえた見積もりです」と伝える
- **PDCAサイクルをまわせる**
  - Plan: 見積もりをする
  - Do: タスクをこなして実績を取る
  - Check: 振り返りをする
  - Action: 次の見積もりに結果を活かす
- **自信と信頼貯金**
  - 見積もりに自信を持てる
  - 上司からの信頼を勝ち取れる
### 4-6. 見積もり内容と実績を記録する
- タスク名
  - タスクの名称
- タスク種別: 実績と見積もりが解離したときの言い訳にできる
  - 元々計画されていたものなのか？
  - 計画後に新たに追加されたものなのか？
  - 割り込みなのか？
- 実績
  - 実際にそのタスクの実行にかかった時間
- バッファ
  - 「最大見積もり-最小見積もり=バッファ」
- バッファ消費率
  - 実績が最小見積もりを超えた割合
  - 「バッファ=最小見積もり」ならバッファ消費率は0%
  - 「バッファ=最大見積もり」ならバッファ消費率は100%
### 4-7. 実績記録の工夫
- **以下の作業の自動化**
  - 「最小,最大,実績,メモ(所感、気付き、ずれた理由、など)」といったフォーマットでcsv出力をしてGoogleスプレッドシートに記録をする
  - グラフとかも出せるといいかも。的中率とかの統計
- **忘れ対策**
  - 実績をつけることのリマインドをSlackやbotにしてもらう
  - 付箋に書いてディスプレイに貼る
### 4-8. 振り返りのやり方
- **最小見積もり以下で終わった時**
  - 最小の取り方を間違えている可能性が高い
  - あくまでも最小はギリギリを攻める
- **常に最小見積もりと同じ**
  - 自分を過小評価している可能性が高い
  - あくまでも最小はギリギリを攻める
- **バッファの中央値と同じ**
  - 素晴らしい見積もり
  - なぜこのような結果になったかを考えてメモを残すと後に繋がる
- **常に最大見積もりと同じ**
  - タスクを考えるときに考慮するところが抜けている可能性
  - 実績に休憩や割り込みを含んではいけない(もしやってしまっていたら)
- **最大見積もりを超過した**
  - 使えると思っていたライブラリが使えなかった、コピペコードが使えなかった、などが発生している可能性がある
  - 上記のようにならないように調査タスクとして分割しておく
### 4-9. 定期的に振り返る
- 可視化する
  - バッファ消費率のグラフなど
- 目標を設定する
  - 次のバッファ消費率を30パーセントに減らすなど
### 4-10. 事例
- **タスクの粒度は細かく**
- **とにかく割り込みや昼休憩は実績から排除すること**
  - 割り込みは不確定要素なので、実績から排除しないと正しい実績の計算ができないから
- **調査タスクも見積もる**
  - ドキュメントを読むとか
  - ログを入れて動かしてみるとか
- **毎日アウトプットする**
  - 週1や月1はスパンが長すぎる
- **うまくいったときの知見も貯める**
- **可視化をして報告するべき**

<br></br>

## 第5章 アジャイルと見積もり
### 5-1. 技術的スパイク
- ある機能の実装するために必要な工程が全く見えないといったときに、「技術調査タスク」として行うこと
- 必要な工程を洗い出すためなので、最小限のコードで検証を行うようにする
- まとめて知見をブログとか技術同人誌に書けるとベスト
### P49〜59をあとで学ぶ

<br></br>

## 第6章 安全マージン
### P60〜65をあとで学ぶ

<br></br>

## 第7章 相見積とREPを比較する
### P66〜70

<br></br>

## 第8章 見積もり依頼の基本
### P71〜79

<br></br>

## 第9章 フリーランスにとっての見積もり
### P80〜83

<br></br>

## 第10章 守備範囲外の開発の見積もり
### P84〜87をあとで学ぶ

<br></br>

## 第11章 スクラムとチームと統計的見積もり
### P88〜93をあとで学ぶ
- 期限内に作業を終わらせる方法について書いてあるっぽいからしっかり読む！！

<br></br>

## 第12章 見積もる前に作業を終わらせろ
### P94〜97
- 気になるので読む

<br></br>

## 第13章 暖かみのある見積もりをする方法
### P98〜102
- 気になるので読む

<br></br>

## 第14章 納期と信頼
### P103〜107

<br></br>

## 第15章 同人誌を作って見積もり体験
### P108〜114

<br></br>

## 第16章 過小見積もりで炎上するプロジェクトから得られた学びと実践
### P115〜120

<br></br>

## 第17章 フリーランスチームリーダーとしての見積もり失敗談
### P121〜127

<br></br>

## 第18章 工数見積もりアンチパターン
### P128〜131
- 気になるので読む

<br></br>

## 第19章 コンシューマーゲームの見積もり
### P132〜138

<br></br>

## 第20章 見積りきれぬ所要時間
### P139〜141
- 気になるので読む

<br></br>

## 第21章 開発時情報が得られないケースにおいての後付けでの規模見積もりについて
### P142〜144

<br></br>

## 第22章 建設業界の見積もり
### P145〜152
