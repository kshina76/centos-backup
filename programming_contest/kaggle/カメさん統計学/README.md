# 統計学

## 第1章 統計とは
### 統計の種類
- 統計的記述(記述統計)(descriptive statistics)
  - 実際に得られたデータからその特徴を抜き出す手段
  - 標本の分析
- 統計的推論(推測統計)(inferential statistics)
  - 標本（部分）から母集団（全体）を推測する手段
  - 母集団の分析
- 例
  - 周りのデータサイエンティストの友人の間だけで平均値や中央値をとると、「周りのデータサイエンティストの平均年収」がわかる: 統計的記述
  - 周りのデータサイエンティストの裏側には「日本のデータサイエンティスト」という母集団が存在して、その分析: 統計的推論
- 母集団と標本の関係
  - 1.周りのデータサイエンティストの平均年収 ⊂　2.日本のデータサイエンティスト平均年収 ⊂ 3.世界全体のデータサイエンティスト平均年収
  - 2から見ると1は標本で、3は母集団

### 推定と検定
- 推定: 母集団の割合とか平均を標本から推論すること
- 検定: 何かの”問い”に対して標本の調査結果を元にYes/Noで答えを与えるもの

## 第2,3章 代表値
### 代表値
- データを説明するのに使う値のこと
- 代表値にする値
  - 平均
    - 年収などの上には上がいるデータでは外れ値の影響を受けやすいので使わないほうがいいかも
  - 中央値
    - 上には上がいるデータの場合に使うと良い
  - 最頻値
    - 統計データが，極端にある値に集中している場合に適している
### 平均の種類
- 算術平均
  - よく知っている平均
- 幾何平均
  - データが比率の場合に使う平均
- 調和平均
  - 逆数の平均の逆数
### 算術平均の重要な性質
1. 算術平均からの差(偏差)の合計は常に0になる
  - ぴったり0ではなくて限りなくゼロに近い数字が出ることもある
2. 算術平均は，各値からの差の２乗の合計(平方和)を最小にする値
### 中央値
- データを値の大きさ順に並べた時に真ん中にくる値
- 中位数ともいう
### 最頻値
- その分布で最も多く(頻繁に)観測される値
- ヒストグラムを作った時に、山が最も高くなる値

## 第4章 散布度
- 代表値だけでデータ全体の性質を知るには無理がある
- 各データの値に差が大きい場合は，代表値と合わせて「データの散らばり具合」を指標として出してあげる必要がある
- 「データの散らばり具合」のことを散布度とか分散度と言う
### 範囲
- 「最大値 – 最小値」でデータの散らばり具合を判断
- 外れ値に弱い
### 四分位数
- 最小値と最大値のような極端な値だと外れ値に弱いので，もう少し中間に近い値を使って散布度を求める作戦
- Q3−Q1 を四分位範囲(interquartile range: IQR)
- その半分の値(Q3−Q1)/2を四分位偏差(quartile deviation: QD)
- IQRやQDもデータの散らばり具合を表す１つの指標として使う
- 箱ヒゲ図はこの指標を使って「散布度」を表している

![quartile-768x375](https://user-images.githubusercontent.com/53253817/105287062-ca5d5d00-5bfa-11eb-9eb4-7aec547df28e.png)

### 平均偏差
- 四分位範囲や四分位偏差も，全部のデータが使われているわけではないのでデータの散らばり具合を記述するのはちょっと足りない
- 偏差(各値が平均からどれくらい離れているか)をそれぞれ足して、データ数で割る
  - データ数で割らないとデータの数値が大きいだけでMDが大きくなってしまう

![2021-01-21 15 25のイメージ](https://user-images.githubusercontent.com/53253817/105295071-dd712c80-5bfc-11eb-802e-d3e11b5eb2d2.jpeg)

### 分散
- 平均偏差の問題点は、値が負の場合は，計算した値にマイナスを掛けないといけない
  - 統計学において「絶対値を避ける」傾向がある
- 解決策としては、2乗をする。2乗すれば値が正だろうが負だろうが正になるから
  - これが分散

![2021-01-21 15 33のイメージ](https://user-images.githubusercontent.com/53253817/105299961-0c3bd280-5bfe-11eb-9bfc-a985165490dd.jpeg)

### 標準偏差
- 分散だと2乗しているので、元の値の尺度とずれてしまう
- そこで平方根をとることで「大体」元の尺度に戻すことができる

![2021-01-21 15 37のイメージ](https://user-images.githubusercontent.com/53253817/105302322-9d12ae00-5bfe-11eb-8562-634751932a40.jpeg)

### 不偏分散
- 母集団分散の推定量として使う
- 標本平均を使った分散は、母集団平均を使った分散より小さくなってしまうので、標本平均の分散は母集団の分散の推定量には使えない
  - 母集団を全体集合にしたら、標本は部分集合なので感覚的にわかると思う

  ![2021-01-21 15 53のイメージ](https://user-images.githubusercontent.com/53253817/105311917-e3690c80-5c00-11eb-9755-6ee0dcef7194.jpeg)

- 以上のことから母集団分散の推定量としては、少し大きい値である不偏分散を推定量として使う。つまり分母をn-1にしている

  ![2021-01-21 15 40のイメージ](https://user-images.githubusercontent.com/53253817/105312625-101d2400-5c01-11eb-8c2b-23710c32a041.jpeg)

## 第7章 不偏性
- ある推定量が”平均的に”(つまり期待値が)母集団のパラメータと一致する場合，この推定量は不偏であるといい，そのような推定量を不偏推定量とよぶ
- 標本の不偏分散は母集団分散の不偏推定量である
  - 算術平均と違ってそのまま分散を使っても不偏推定量にはならないから
- 標本の算術平均は母集団平均の不偏推定量である
- 標本平均の分散はσ^2/nである
- 標本統計量は確率変数である．(確率的に変動する値である)
- つまり、標本の不偏推定量は母集団を推定していることになる

## 第8章 標準偏差と散らばり具合
- 「標準偏差」を使うと、あるデータが分布のどの辺りに位置しているか検討がつく
- 一般的には𝑥¯±𝑠の範囲に約23，𝑥¯±2𝑠の範囲に約95%，𝑥¯±3𝑠の範囲に約99%~100%のデータが分布する
- これは必ずしも正しいとは限らないが，ある程度の検討をつけることができる
- 正規分布では「68-95-99.7ルール」があることを知っておく．細かい数字までは覚えなくて良い
  - ちょうど95%の境目が平均±1.96標準偏差になる．この「1.96」という数字は統計学ではよく出てくるので覚えておく．

![std_rule-768x761](https://user-images.githubusercontent.com/53253817/105319674-8cffcc00-5c08-11eb-9d67-97ff7ae8d4b4.png)

## 第9章 標準化
- z得点に変換することで，異なるデータ群間で比較可能になる
- ある中学校Aにいる山田くんの英語のテスト40点と，隣の中学校Bの田中くんの英語テスト60点は，このテストの数字だけではどちらが英語が得意なのか比較することはできない
- ここで、山田くんと田中くんがそれぞれの中学校で「平均値から標準偏差の何倍離れているのか」を計算すれば，少なくともお互い自分の中学校でどのレベルなのかが分かる
  - これをz得点といい、標準化をすることで求まる
- それぞれのz得点を比較すると、異なるデータ郡でも比較ができるということがわかる

## 第10,11章 共分散
- 共分散は分散の式の2変数バージョン(と考えると式も覚えやすい)
- 共分散は散らばり具合を表すのではなくて，２変数間の相関関係の指標として使われる．
- ２変数間の共分散は，その変数間に正の相関があるときは正，負の相関があるときは負，無相関の場合は0となる．
- 分散共分散行列は，各変数の分散と各変数間の共分散を行列で表したもの．

![covariance-1-768x488](https://user-images.githubusercontent.com/53253817/105322502-51670100-5c0c-11eb-92a6-d652bbd5cfbc.png)

## 第12章 相関
- 相関係数は0.7を超えると強い相関で，0.2以下はほぼ相関なし
- 相関係数だけをみるのは危険なので，できるだけ散布図も合わせて確認する
- 相関関係はあくまでも集団における傾向であって因果関係を示すものではない

## 第13、14章 回帰
- 回帰は条件付き平均
- 回帰直線はy=a+bxのように表す
- 回帰直線は残差の二乗を最小にするように引く（最小2乗法）
- 残差 = 予測値 - 実際の値
- 一般に，xからyを予測する回帰直線の式を，𝑦から𝑥を予測する際には使えない

![error_reg-768x515](https://user-images.githubusercontent.com/53253817/105328235-2e8c1b00-5c13-11eb-9717-f9471a2d1517.png)
