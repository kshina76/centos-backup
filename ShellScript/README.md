# シェルスクリプトのメモ(zsh)

## それぞれのシェルの違い
### ログインシェル
- 起動方法
  - `/bin/bash`や`/bin/zsh`のオプションに`--login`を指定して起動
  - ログインした際に起動
    - `/etc/passwd`ファイルからログインシェルを取得して`${シェルのパス} --login`みたいなことをしている
  - suコマンドやsshコマンドの第一引数に`-`を指定して起動
- 起動したあとは、自動的にインタラクティブシェルのモードに遷移する
  - つまり、よく使っているターミナルで見えているインタラクティブシェルは、元はログインシェルということがわかる
### インタラクティブシャル
- 起動方法
  - ログインシェルから自動的に起動
  - ターミナルで`bash`や`/bin/bash`や`fish`や`zsh`などを打って起動
### 非インタラクティブ(シェルスクリプト実行)
- 起動方法
  - ターミナルで`zsh test.sh`や`./test.sh`のように、シェルスクリプトを実行

<br></br>

## zshの設定ファイルまとめ
- [ここを参考](https://qiita.com/muran001/items/7b104d33f5ea3f75353f)

### local(~/.xxxx)とglobal(/etc/xxx)
- 特定ユーザー（自分）のみ有効にしたい場合にはlocalで記述
- すべてのユーザーで有効にしたい場合にはglobalで記述
- ただしglobalはlocal設定で上書きされてしまうので、必ず設定されるかは保証されない
### zshenv
- 順序からもわかるようにどんな場合でも必ず最初に読み込まれる。
- ログインシェル、インタラクティブシェル、シェルスクリプトのどの場合でも必要な環境変数などはここに記述するのが良い。
- 影響範囲が広くなることから特に目的がなければここに設定を記述するのは推奨されない。
- 例
  - `$PATH`
  - `$EDITOR`
  - `$PAGER`
  - `$ZDOTDIR`
### zprofile
- ログインシェルの場合に１度だけ読み込まれる。
- インタラクティブシェルやシェルスクリプトでは不要だけどログインシェルの時だけ必要な設定をする場合にはここに記述するのが良い。
