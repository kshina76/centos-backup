# 初めてのGraphQL 書籍メモ

## 第1章 GraphQLへようこそ
### GraphQLとは
- RESTAPIの問題点を解決したAPI規格
  - RESTAPIは不必要なデータまで取得してしまう
  - GrapQLは必要なデータを過不足なく一回のクエリで取得できる
- データベースに直接アクセスしてるイメージ
- 一般的にHTTPで動かす
### GraphQLの設計原則
- 階層構造
  - フィールドはフィールドの入れ子
  - クエリはレスポンスと同じ構造
- プロダクト中心
- 強い型付け
  - それぞれのフィールドはGrapQL特有の型システムによって縛られ、バリデーションされる
- クライアントごとのクエリ
- 自己参照
  - GrapQLサーバ自身の型システムに問い合わせることができる
### RESTの課題
- 過剰な取得
  - 例えば、ユーザデータが欲しいだけなのに、おすすめしている映画の情報まで取得してしまったり
  - GrapQLなら過不足なく取得できる
- 過小な取得
  - 例えば、映画1,2,3のデータが欲しかったら、APIを3回叩かないといけない
  - GraphQLなら一回のクエリで取得できる
- 自由度の低さ
  - クライアントの仕様が変わったら、エンドポイントを追加で作成しなければいけなくなる
  - GraphQLは基本的に単一のエンドポイントだから関係ない
### RESTとGraphQLの併用
- 多くの組織だと併用している
- GraphQLサーバからRESTのエンドポイントにリクエストするという使い方
### GraphQLのクライアント
- RelayとApolloが有名
- ネットワークのリクエスト、データのキャッシュといったGraphQLの仕様を超えた機能を提供してくれる

<br></br>

## 第2章 グラフ理論
### グラフをコンピュータで表現

```
graph = {V, E} # V: 点、 E: 辺

graph = {{1,2,3,4},
        ({1,2},
        {1,3},
        {3,4})
        }
```

### グラフをGraphQLで表現すると

<br></br>

## 第3章 GraphQLの構文
- コマンド
  - SQLのselect <-> GraphQLのquery
  - SQLのinsert,delete,update <-> GraphQLのmutation
  - データの変更監視はsubscription
- クエリはただの文字列なので、HTTPリクエストのボディに入れて送信する
